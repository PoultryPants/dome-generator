<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Sphere stairs</title>
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        font-family: sans-serif;
      }

      #controls-panel {
        display: flex;
        flex-direction: column;
        gap: 12px;
        padding: 10px;
        background-color: #f5f5f5;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      #slider-container {
        display: flex;
        flex-direction: column;
        gap: 10px;
        width: 100%;
      }
      #options-row {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 16px;
      }
      #left-controls {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      #export-controls {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        justify-content: flex-end;
        gap: 10px;
      }

      .slider-group {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .slider-group label {
        width: 80px;
      }

      .slider-group input[type="range"] {
        flex: 1;
      }

      .slider-group span {
        width: 40px;
        text-align: right;
      }

      #app {
        flex: 1;
        position: relative;
        height: 100%;
      }

      canvas {
        width: 100%;
        height: 100%;
        display: block;
      }

      .checkbox-group {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-top: 5px;
      }

      /* Keep the checkbox label on a single line */
      .slider-group.checkbox-group label {
        width: auto;
        white-space: nowrap;
      }
      #export-controls .checkbox-group {
        justify-content: flex-end;
        margin-top: 0;
      }
      #export-button {
        padding: 8px 12px;
        border: none;
        background: #5f0eb5;
        color: white;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 600;
      }
      .slider-group button {
        padding: 6px 10px;
        border: none;
        background: #ddd;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 600;
      }

      .slider-group button:hover {
        background: #ccc;
      }

      @media (max-width: 760px) {
        #options-row {
          flex-direction: column;
        }
        #export-controls {
          align-items: flex-start;
        }
        #export-controls .checkbox-group {
          justify-content: flex-start;
        }
      }

      .slider-group select,
      #spheroid-type {
        padding: 6px 10px;
        font-family: sans-serif;
        cursor: pointer;
        min-width: 160px;
      }

      #footer-link {
        position: fixed;
        bottom: 5px;
        left: 10px;
        font-size: 12px;
        color: #444;
        opacity: 0.7;
      }
    </style>
  </head>
  <body>
    <div id="controls-panel">
      <div id="slider-container">
        <div class="slider-group">
          <label id="label-radius" title="Set the overall diameter of the dome."
            >Diameter: 13</label
          >
          <input
            type="range"
            id="slider-radius"
            min="2"
            max="101"
            value="13"
            title="Drag to change the dome's diameter."
          />
        </div>

        <div class="slider-group">
          <label
            id="label-cut"
            title="Show only the bottom layers up to this height."
            >Cut: 7</label
          >
          <input
            type="range"
            id="slider-cut"
            min="1"
            max="7"
            value="7"
            title="Adjust to view a partial dome or cross-section."
          />
        </div>
        <div class="slider-group" id="eccentricity-group">
          <label
            id="label-eccentricity"
            title="Change how stretched or flattened the spheroid is."
            >Eccentricity: 0.00</label
          >
          <input
            type="range"
            id="slider-eccentricity"
            min="-99"
            max="100"
            value="0"
            step="1"
            title="Negative = oblate (flattened), positive = prolate (stretched)."
          />
          <button
            id="reset-eccentricity"
            title="Reset eccentricity to 0 (perfect sphere)"
          >
            Reset
          </button>
        </div>
      </div>

      <div id="options-row">
        <div id="left-controls">
        <div class="slider-group">
          <label title="Control how corner stairs are placed in the structure."
            >Corner stairs use:</label
          >
          <select
            id="corner-use"
            title="Choose how corner stairs are used in the dome."
          >
            <option
              value="none"
              title="Never use corner stairs; only full blocks and regular stairs/slabs."
            >
              None
            </option>
            <option
              value="legal"
              selected
              title="Use corner stairs only where they fit naturally and legally in Minecraft."
            >
              Legal
            </option>
            <option
              value="all"
              title="Use corner stairs wherever possible, even if not strictly legal in Minecraft."
            >
              All
            </option>
          </select>
        </div>
        <div class="slider-group checkbox-group">
          <input type="checkbox" id="ensure-symmetry" checked />
          <label for="ensure-symmetry">Ensure symmetry</label>
        </div>
        </div>

        <div id="export-controls">
          <div class="slider-group checkbox-group">
            <input type="checkbox" id="export-hollow" checked />
            <label for="export-hollow">Export hollow model</label>
          </div>
          <button id="export-button">Export NBT</button>
        </div>
      </div>
    </div>
    <div id="app">
      <canvas id="canvas"></canvas>
    </div>

    <!-- Bottom-left footer link -->
    <div id="footer-link">
      <a href="https://github.com/PoultryPants/dome-generator/" target="_blank"
        >https://github.com/PoultryPants/dome-generator/</a
      >
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
